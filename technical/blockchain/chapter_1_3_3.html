<!DOCTYPE HTML>
<html lang="zh-CN" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hardhat - ä¿¡æ¯æŠ€æœ¯ | AwesomeProgram</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="æ‰€æ€å³æ‰€è§ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œæ‰€å¾—çš†æ‰€æƒ³ï¼ŒæŠ€æœ¯ä»æœªåœæ­‡ï¼Œä¹Ÿæœªæ›¾ç¼ºä¹">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../PrefixChapter.html">å‰è¨€</a></li><li class="chapter-item expanded "><a href="../rust/chapter_1.html"><strong aria-hidden="true">1.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/chapter_1_1.html"><strong aria-hidden="true">1.1.</strong> Rust è¯­æ³•ç»“æ„</a></li><li class="chapter-item expanded "><a href="../rust/chapter_1_4.html"><strong aria-hidden="true">1.2.</strong> Rust æ ‡å‡†åº“</a></li><li class="chapter-item expanded "><a href="../rust/chapter_1_5.html"><strong aria-hidden="true">1.3.</strong> Rust å·¥å…·é“¾</a></li><li class="chapter-item expanded "><a href="../rust/chapter_1_6.html"><strong aria-hidden="true">1.4.</strong> Rust ç±»å‹æ“ä½œ</a></li><li class="chapter-item expanded "><a href="../rust/chapter_1_7.html"><strong aria-hidden="true">1.5.</strong> Rust ç¼–ç èŒƒå¼</a></li></ol></li><li class="chapter-item expanded "><a href="../go/chapter_1.html"><strong aria-hidden="true">2.</strong> Go</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../go/chapter_1_1.html"><strong aria-hidden="true">2.1.</strong> Go è¯­æ³•ç»“æ„</a></li><li class="chapter-item expanded "><a href="../go/chapter_1_2.html"><strong aria-hidden="true">2.2.</strong> Go æ ‡å‡†åº“</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_3.html"><strong aria-hidden="true">3.</strong> å„è¯­è¨€å¯¹æ¯”</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1.html"><strong aria-hidden="true">4.</strong> åŒºå—é“¾</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_1.html"><strong aria-hidden="true">4.1.</strong> åŒºå—é“¾ç®€å²</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2.html"><strong aria-hidden="true">4.2.</strong> åŒºå—é“¾æ¡†æ¶</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1.html"><strong aria-hidden="true">4.2.1.</strong> substrate</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_1.html"><strong aria-hidden="true">4.2.1.1.</strong> åŸºæœ¬åŸç†</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_2.html"><strong aria-hidden="true">4.2.1.2.</strong> æ„å»ºä¸ç¼–ç </a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_3.html"><strong aria-hidden="true">4.2.1.3.</strong> å¯åŠ¨åŒºå—é“¾ç½‘ç»œ</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_4.html"><strong aria-hidden="true">4.2.1.4.</strong> è‡ªå®šä¹‰pallet</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_5.html"><strong aria-hidden="true">4.2.1.5.</strong> å¼€å‘æ™ºèƒ½åˆçº¦</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_6.html"><strong aria-hidden="true">4.2.1.6.</strong> æ¡¥æ¥å…¶å®ƒé“¾</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_7.html"><strong aria-hidden="true">4.2.1.7.</strong> å·¥å…·é›†æˆ</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_1_8.html"><strong aria-hidden="true">4.2.1.8.</strong> æµ‹è¯•</a></li></ol></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_2.html"><strong aria-hidden="true">4.2.2.</strong> fabric</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_2_1.html"><strong aria-hidden="true">4.2.2.1.</strong> åŸºæœ¬åŸç†</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_2_2.html"><strong aria-hidden="true">4.2.2.2.</strong> æ„å»ºä¸å¼€å‘</a></li></ol></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_3.html"><strong aria-hidden="true">4.2.3.</strong> EOSIO</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_3_1.html"><strong aria-hidden="true">4.2.3.1.</strong> åŸºæœ¬åŸç†</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_2_3_2.html"><strong aria-hidden="true">4.2.3.2.</strong> æ„å»ºä¸å¼€å‘</a></li></ol></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_3.html"><strong aria-hidden="true">4.2.4.</strong> æ™ºèƒ½åˆçº¦ä¸DApp</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blockchain/chapter_1_3_1.html"><strong aria-hidden="true">4.2.4.1.</strong> Move</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_3_2.html"><strong aria-hidden="true">4.2.4.2.</strong> Solidity</a></li><li class="chapter-item expanded "><a href="../blockchain/chapter_1_3_3.html" class="active"><strong aria-hidden="true">4.2.4.3.</strong> Hardhat</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../cloud/chapter_1.html"><strong aria-hidden="true">5.</strong> äº‘è®¡ç®—</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cloud/chapter_1_1.html"><strong aria-hidden="true">5.1.</strong> äº‘è®¡ç®—ç®€å²</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_2.html"><strong aria-hidden="true">5.2.</strong> èµ„æºç¼–æ’æ¡†æ¶</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cloud/chapter_1_2_1.html"><strong aria-hidden="true">5.2.1.</strong> kubernetes</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_2_2.html"><strong aria-hidden="true">5.2.2.</strong> openstack</a></li></ol></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_3.html"><strong aria-hidden="true">5.3.</strong> è™šæ‹ŸåŒ–</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cloud/chapter_1_3_1.html"><strong aria-hidden="true">5.3.1.</strong> è®¡ç®—</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_3_2.html"><strong aria-hidden="true">5.3.2.</strong> ç½‘ç»œ</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_3_3.html"><strong aria-hidden="true">5.3.3.</strong> å­˜å‚¨</a></li></ol></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_4.html"><strong aria-hidden="true">5.4.</strong> å®¹å™¨</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cloud/chapter_1_4_1.html"><strong aria-hidden="true">5.4.1.</strong> docker</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_4_2.html"><strong aria-hidden="true">5.4.2.</strong> containerd</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_4_3.html"><strong aria-hidden="true">5.4.3.</strong> podman</a></li></ol></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_5.html"><strong aria-hidden="true">5.5.</strong> é«˜çº§è¯­è¨€è™šæ‹Ÿæœº</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cloud/chapter_1_5_1.html"><strong aria-hidden="true">5.5.1.</strong> wasm</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_5_2.html"><strong aria-hidden="true">5.5.2.</strong> jvm</a></li><li class="chapter-item expanded "><a href="../cloud/chapter_1_5_3.html"><strong aria-hidden="true">5.5.3.</strong> evm</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../privacy/chapter_1.html"><strong aria-hidden="true">6.</strong> éšç§è®¡ç®—</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../privacy/chapter_1_1.html"><strong aria-hidden="true">6.1.</strong> å¯†ç å­¦ç›¸å…³</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../privacy/chapter_1_1_1.html"><strong aria-hidden="true">6.1.1.</strong> é›¶çŸ¥è¯†è¯æ˜</a></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_1_2.html"><strong aria-hidden="true">6.1.2.</strong> MPC</a></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_1_3.html"><strong aria-hidden="true">6.1.3.</strong> å·®åˆ†éšç§</a></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_1_4.html"><strong aria-hidden="true">6.1.4.</strong> ç§˜å¯†å…±äº«</a></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_1_5.html"><strong aria-hidden="true">6.1.5.</strong> åŒæ€åŠ å¯†</a></li></ol></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_2.html"><strong aria-hidden="true">6.2.</strong> å¯ä¿¡æ‰§è¡Œç¯å¢ƒ</a></li><li class="chapter-item expanded "><a href="../privacy/chapter_1_3.html"><strong aria-hidden="true">6.3.</strong> è”é‚¦å­¦ä¹ </a></li></ol></li><li class="chapter-item expanded "><a href="../quantum/chapter_1.html"><strong aria-hidden="true">7.</strong> é‡å­è®¡ç®—</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../quantum/chapter_1_1.html"><strong aria-hidden="true">7.1.</strong> ç»å…¸è®¡ç®—ä¸é‡å­è®¡ç®—</a></li><li class="chapter-item expanded "><a href="../quantum/chapter_1_2.html"><strong aria-hidden="true">7.2.</strong> é‡å­è®¡ç®—ä¸­çš„æ¦‚å¿µ</a></li><li class="chapter-item expanded "><a href="../quantum/chapter_1_3.html"><strong aria-hidden="true">7.3.</strong> é‡å­è®¡ç®—ä¸­çš„ç®—æ³•</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_8.html"><strong aria-hidden="true">8.</strong> è½¯è€ƒè®°å½•</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ä¿¡æ¯æŠ€æœ¯ | AwesomeProgram</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="hardhatæ•™ç¨‹"><a class="header" href="#hardhatæ•™ç¨‹">Hardhatæ•™ç¨‹</a></h1>
<h2 id="1-hardhatæ¦‚è¿°"><a class="header" href="#1-hardhatæ¦‚è¿°">1. Hardhatæ¦‚è¿°</a></h2>
<p>æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ä»¥å¤ªåŠåˆçº¦å’Œ dApp å¼€å‘åˆå­¦è€…æŒ‡å—ã€‚æœ¬æ•™ç¨‹æ—¨åœ¨å¿«é€Ÿè®©æ‚¨ä»å¤´å¼€å§‹æ„å»ºä¸€äº›ä¸œè¥¿ã€‚</p>
<p>ä¸ºäº†åè°ƒè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Hardhatï¼Œè¿™æ˜¯ä¸€ç§æœ‰åŠ©äºåœ¨ä»¥å¤ªåŠä¸Šæ„å»ºçš„å¼€å‘ç¯å¢ƒã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜ç®¡ç†å’Œè‡ªåŠ¨åŒ–æ„å»ºæ™ºèƒ½åˆçº¦å’Œ dApp è¿‡ç¨‹ä¸­å›ºæœ‰çš„é‡å¤æ€§ä»»åŠ¡ï¼Œå¹¶ä¸”å®ƒå…è®¸ä½ å›´ç»•æ­¤å·¥ä½œæµç¨‹è½»æ¾å¼•å…¥æ›´å¤šåŠŸèƒ½ã€‚è¿™æ„å‘³ç€ hardhat åœ¨æœ€æ ¸å¿ƒçš„åœ°æ–¹è¿›è¡Œç¼–è¯‘å’Œæµ‹è¯•ã€‚</p>
<p>Hardhat è¿˜å†…ç½®äº† Hardhat ç½‘ç»œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºå¼€å‘è€Œè®¾è®¡çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œã€‚å®ƒå…è®¸ä½ éƒ¨ç½²åˆçº¦ã€è¿è¡Œæµ‹è¯•å’Œè°ƒè¯•ä»£ç ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å¼•å¯¼æ‚¨å®Œæˆï¼š</p>
<ul>
<li>ä¸ºä»¥å¤ªåŠå¼€å‘è®¾ç½® Node.js ç¯å¢ƒ</li>
<li>åˆ›å»ºå’Œé…ç½® Hardhat é¡¹ç›®</li>
<li>å®ç° Solidity æ™ºèƒ½åˆçº¦ä»£å¸</li>
<li>ä½¿ç”¨ Hardhat ä¸ºä½ çš„åˆçº¦ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•</li>
<li>ä½¿ç”¨Hardhat EVMçš„ <code>console.log()</code> è°ƒè¯• Solidity</li>
<li>å°†æ‚¨çš„åˆçº¦éƒ¨ç½²åˆ° Hardhat EVM å’Œä»¥å¤ªåŠæµ‹è¯•ç½‘</li>
</ul>
<p>è¦éµå¾ªæœ¬æ•™ç¨‹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š</p>
<ul>
<li>ç”¨ [JavaScript] ç¼–å†™ä»£ç (https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/JavaScript_basics)</li>
<li>æ“ä½œ <a href="https://en.wikipedia.org/wiki/Terminal_emulator">terminal</a></li>
<li>ä½¿ç”¨ <a href="https://git-scm.com/doc">git</a></li>
<li>äº†è§£ <a href="https://ethereum.org/learn/#smart-contracts">æ™ºèƒ½åˆçº¦</a> å¦‚ä½•å·¥ä½œçš„åŸºç¡€çŸ¥è¯†</li>
<li>è®¾ç½® <a href="https://metamask.io/">Metamask</a> é’±åŒ…</li>
</ul>
<p>å¦‚æœä½ æ— æ³•æ‰§è¡Œä¸Šè¿°ä»»ä½•æ“ä½œï¼Œè¯·ç‚¹å‡»é“¾æ¥å¹¶èŠ±ä¸€äº›æ—¶é—´å­¦ä¹ åŸºç¡€çŸ¥è¯†ã€‚</p>
<h2 id="2-æ­å»ºç¯å¢ƒ"><a class="header" href="#2-æ­å»ºç¯å¢ƒ">2. æ­å»ºç¯å¢ƒ</a></h2>
<p>å¤§å¤šæ•°ä»¥å¤ªåŠåº“å’Œå·¥å…·éƒ½æ˜¯ç”¨ JavaScript ç¼–å†™çš„ï¼ŒHardhat ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰ Node.jsï¼Œå®ƒæ˜¯åŸºäº Chrome çš„ V8 JavaScript å¼•æ“æ„å»ºçš„ JavaScript è¿è¡Œæ—¶ã€‚å®ƒæ˜¯åœ¨ Web æµè§ˆå™¨ä¹‹å¤–è¿è¡Œ JavaScript çš„æœ€æµè¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œè€Œ Hardhat å°±æ˜¯åœ¨å®ƒä¹‹ä¸Šæ„å»ºçš„ã€‚</p>
<p>:::æç¤º</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=NomicFoundation.hardhat-solidity">Hardhat for Visual Studio Code</a> æ˜¯å®˜æ–¹çš„ Hardhat æ‰©å±•ï¼Œå®ƒä¸º VSCode æ·»åŠ äº†å¯¹ Solidity çš„é«˜çº§æ”¯æŒã€‚å¦‚æœä½ ä½¿ç”¨ Visual Studio Codeï¼Œå¯å°è¯•ä¸€ä¸‹ï¼</p>
<p>:::</p>
<h3 id="å®‰è£…nodejs"><a class="header" href="#å®‰è£…nodejs">å®‰è£…Node.js</a></h3>
<p>å¦‚æœä½ å·²ç»å®‰è£…äº†çš„ Node.js <code>&gt;=16.0</code>ï¼Œåˆ™å¯ä»¥<a href="#3-%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84hardhat%E9%A1%B9%E7%9B%AE">è·³åˆ°ä¸‹ä¸€èŠ‚</a>ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åœ¨ Ubuntuï¼ŒMacOS å’Œ Windows ä¸Šå®‰è£…å®ƒã€‚</p>
<h4 id="linux"><a class="header" href="#linux">Linux</a></h4>
<h5 id="ubuntu"><a class="header" href="#ubuntu">Ubuntu</a></h5>
<p>å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ°ç»ˆç«¯ä¸­ï¼š</p>
<pre><code>sudo apt update
sudo apt install curl git
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs
</code></pre>
<h4 id="macos"><a class="header" href="#macos">MacOS</a></h4>
<p>ç¡®ä¿ä½ å·²å®‰è£… <code>git</code>ã€‚å¦åˆ™ï¼Œè¯·éµå¾ª<a href="https://www.atlassian.com/git/tutorials/install-git">è¿™äº›è¯´æ˜</a>å®‰è£….</p>
<p>åœ¨ MacOS ä¸Šæœ‰å¤šç§å®‰è£… Node.js çš„æ–¹æ³•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Node ç‰ˆæœ¬ç®¡ç†å™¨ï¼ˆnvmï¼‰ã€‚å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ°ç»ˆç«¯ä¸­ï¼š</p>
<pre><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
nvm install 18
nvm use 18
nvm alias default 18
npm install npm --global # Upgrade npm to the latest version
</code></pre>
<h4 id="windows"><a class="header" href="#windows">Windows</a></h4>
<p>å¦‚æœä½ ä½¿ç”¨ Windowsï¼Œæˆ‘ä»¬å¼ºçƒˆæ¨èä½ ä½¿ç”¨ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆä¹Ÿå°±æ˜¯ WSL2ï¼‰ã€‚ä½ å¯ä»¥ä¸ç”¨å®ƒæ¥ä½¿ç”¨ Hardhatï¼Œä½†å¦‚æœä½ ä½¿ç”¨å®ƒï¼Œæ•ˆæœä¼šæ›´å¥½ã€‚</p>
<p>è¦ä½¿ç”¨ WSL2 æ¥å®‰è£… Node.jsï¼Œå¯å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-wsl">è¿™ç¯‡æ‰‹å†Œ</a>.</p>
<p>è¿˜è¦ç¡®ä¿ä½ å·²ç»<a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-git">åœ¨ WSL2 ä¸Šå®‰è£…äº† git</a>.</p>
<h3 id="å‡çº§nodejs"><a class="header" href="#å‡çº§nodejs">å‡çº§Node.js</a></h3>
<p>å¦‚æœä½ çš„ Node.js ç‰ˆæœ¬å¾ˆè€çš„å¹¶ä¸”<a href="https://hardhat.org/hardhat-runner/docs/reference/stability-guarantees#node.js-versions-support">ä¸è¢« Hardhat æ”¯æŒ</a>ï¼Œåˆ™éœ€è¦é€šè¿‡ä»¥ä¸‹æŒ‡å¼•å‡çº§ã€‚</p>
<h4 id="linux-1"><a class="header" href="#linux-1">Linux</a></h4>
<h5 id="ubuntu-1"><a class="header" href="#ubuntu-1">Ubuntu</a></h5>
<ol>
<li>åœ¨ç»ˆç«¯è¿è¡Œ <code>sudo apt remove nodejs</code> å‘½ä»¤æ¥åˆ é™¤ Node.jsã€‚</li>
<li>åœ¨<a href="https://github.com/nodesource/distributions#debinstall">è¿™é‡Œ</a>æŸ¥æ‰¾ä½ å¸Œæœ›å®‰è£…çš„ Node.js ç‰ˆæœ¬å¹¶ä¸”æŒ‰ç…§æŒ‡ä»¤æ¥å®‰è£…ã€‚</li>
<li>åœ¨ç»ˆç«¯è¿è¡Œ <code>sudo apt update &amp;&amp; sudo apt install nodejs</code> å‘½ä»¤æ¥å†æ¬¡å®‰è£… Node.jsã€‚</li>
</ol>
<h4 id="macos-1"><a class="header" href="#macos-1">MacOS</a></h4>
<p>ä½ å¯ä»¥ä½¿ç”¨ <a href="http://github.com/creationix/nvm">nvm</a>æ¥åˆ‡æ¢ä½ çš„ Node.js ç‰ˆæœ¬ã€‚åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤å‡çº§åˆ° Node.js <code>18.x</code>ï¼š</p>
<pre><code>nvm install 18
nvm use 18
nvm alias default 18
npm install npm --global # å‡çº§ npm åˆ°æœ€æ–°çš„ç‰ˆæœ¬
</code></pre>
<h4 id="windows-1"><a class="header" href="#windows-1">Windows</a></h4>
<p>ä½ éœ€è¦éµå¾ªä¸ä¹‹å‰<a href="#windows">ç›¸åŒçš„å®‰è£…è¯´æ˜</a>ï¼Œä½†é€‰æ‹©ä¸åŒçš„ç‰ˆæœ¬ã€‚ä½ å¯ä»¥<a href="https://nodejs.org/en/download/releases/">åœ¨æ­¤å¤„</a>æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬çš„åˆ—è¡¨ã€‚</p>
<h2 id="3-åˆ›å»ºæ–°çš„hardhaté¡¹ç›®"><a class="header" href="#3-åˆ›å»ºæ–°çš„hardhaté¡¹ç›®">3. åˆ›å»ºæ–°çš„Hardhaté¡¹ç›®</a></h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ Node.js çš„åŒ…ç®¡ç†å™¨ï¼ˆ<code>npm</code>ï¼‰æ¥å®‰è£… Hardhatï¼ŒNPM æ˜¯ä¸€ä¸ª Node.js è½¯ä»¶åŒ…ç®¡ç†å™¨å’Œä¸€ä¸ª JavaScript ä»£ç åº“ã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ Node.js çš„å…¶å®ƒåŒ…ç®¡ç†å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬å»ºè®®ä½ æŒ‰ç…§è¿™ä¸ªæ‰‹å†Œä½¿ç”¨ npm 7 æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬ã€‚å¦‚æœä½ éµå¾ªäº†ä¹‹å‰çš„ç« èŠ‚æ­¥éª¤ï¼Œé‚£ä¹ˆåº”è¯¥å·²ç»å®‰è£…äº†å®ƒã€‚</p>
<p>æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼š</p>
<pre><code>mkdir hardhat-tutorial
cd hardhat-tutorial
</code></pre>
<p>ç„¶ååˆå§‹åŒ–ä¸€ä¸ª npm é¡¹ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ç³»ç»Ÿå°†æç¤ºä½ å›ç­”ä¸€äº›é—®é¢˜ã€‚</p>
<p>::::æç¤º</p>
<p>ä½¿ç”¨ä»£ç æ®µä¸­çš„é€‰é¡¹å¡é€‰æ‹©é¦–é€‰çš„åŒ…ç®¡ç†å™¨ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨ npm7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒä½¿å®‰è£… Hardhat çš„ä¾èµ–å…³ç³»å˜å¾—æ›´å®¹æ˜“ã€‚</p>
<p>::::</p>
<p>::::tabsgroup{options=&quot;npm 7+,npm 6,yarn&quot;}</p>
<p>:::tab{value=&quot;npm 7+&quot;}</p>
<pre><code>npm init
</code></pre>
<p>:::</p>
<p>:::tab{value=&quot;npm 6&quot;}</p>
<pre><code>npm init
</code></pre>
<p>:::</p>
<p>:::tab{value=yarn}</p>
<pre><code>yarn init
</code></pre>
<p>:::</p>
<p>::::</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å®‰è£… Hardhatï¼š</p>
<p>::::tabsgroup{options=&quot;npm 7+,npm 6,yarn&quot;}</p>
<p>:::tab{value=&quot;npm 7+&quot;}</p>
<pre><code>npm install --save-dev hardhat
</code></pre>
<p>:::</p>
<p>:::tab{value=&quot;npm 6&quot;}</p>
<pre><code>npm install --save-dev hardhat
</code></pre>
<p>:::</p>
<p>:::tab{value=yarn}</p>
<pre><code>yarn add --dev hardhat
</code></pre>
<p>:::</p>
<p>::::</p>
<p>åœ¨å®‰è£… Hardhat çš„åŒä¸€ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>npx hardhat
</code></pre>
<p>ä½¿ç”¨ä½ çš„é”®ç›˜é€‰æ‹© <code>Create an empty hardhat.config.js</code> å¹¶ä¸”æŒ‰ä¸‹å›è½¦é”®ã€‚</p>
<pre><code class="language-markup{16}">$ npx hardhat
888    888                      888 888               888
888    888                      888 888               888
888    888                      888 888               888
8888888888  8888b.  888d888 .d88888 88888b.   8888b.  888888
888    888     &quot;88b 888P&quot;  d88&quot; 888 888 &quot;88b     &quot;88b 888
888    888 .d888888 888    888  888 888  888 .d888888 888
888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.
888    888 &quot;Y888888 888     &quot;Y88888 888  888 &quot;Y888888  &quot;Y888

ğŸ‘· Welcome to Hardhat v2.9.9 ğŸ‘·â€

? What do you want to do? â€¦
  Create a JavaScript project
  Create a TypeScript project
â¯ Create an empty hardhat.config.js
  Quit
</code></pre>
<p>å½“ Hardhat åœ¨è¿è¡Œæ—¶ï¼Œå®ƒä»å½“å‰å·¥ä½œç›®å½•å¼€å§‹æœç´¢æœ€è¿‘çš„ <code>hardhat.config.js</code> æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸å­˜åœ¨ä½ é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè€Œä¸”ä¸€ä¸ªç©ºçš„ <code>hardhat.config.js</code> æ–‡ä»¶å·²ç»è¶³å¤Ÿå¯ä»¥è®© Hardhat å»å·¥ä½œäº†ã€‚ä½ çš„æ•´ä¸ªé…ç½®éƒ½åŒ…å«åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</p>
<h3 id="hardhatçš„æ¶æ„"><a class="header" href="#hardhatçš„æ¶æ„">Hardhatçš„æ¶æ„</a></h3>
<p>Hardhat æ˜¯å›´ç»•ä»»åŠ¡å’Œæ’ä»¶çš„æ¦‚å¿µè®¾è®¡çš„ã€‚Hardhat çš„å¤§éƒ¨åˆ†åŠŸèƒ½æ¥è‡ªæ’ä»¶ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©æƒ³è¦ä½¿ç”¨çš„<a href="https://hardhat.org/hardhat-runner/plugins">æ’ä»¶</a>ã€‚</p>
<h4 id="ä»»åŠ¡"><a class="header" href="#ä»»åŠ¡">ä»»åŠ¡</a></h4>
<p>æ¯æ¬¡ä»å‘½ä»¤è¡Œè¿è¡Œ Hardhat æ—¶ï¼Œéƒ½åœ¨è¿è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œ<code>npx hardhat compile</code> æ­£åœ¨è¿è¡Œ <code>compile</code> ä»»åŠ¡ã€‚è¦æŸ¥çœ‹é¡¹ç›®ä¸­å½“å‰å¯ç”¨çš„ä»»åŠ¡ï¼Œè¿è¡Œ <code>npx hardhat</code>ã€‚ä½ å¯ä»¥é€šè¿‡è¿è¡Œ <code>npx hardhat help [task]</code> æ¥æ¢ç´¢ä»»ä½•ä»»åŠ¡ã€‚</p>
<p>:::æç¤º</p>
<p>ä½ å¯ä»¥åˆ›å»ºä½ è‡ªå·±çš„ä»»åŠ¡ï¼Œå¯å‚é˜…<a href="https://hardhat.org/hardhat-runner/docs/advanced/create-task">åˆ›å»ºä»»åŠ¡æŒ‡å—</a>ã€‚</p>
<p>:::</p>
<h4 id="æ’ä»¶"><a class="header" href="#æ’ä»¶">æ’ä»¶</a></h4>
<p>å°±æœ€ç»ˆä½¿ç”¨çš„å·¥å…·è€Œè¨€ï¼ŒHardhat æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å®ƒç¡®å®æœ‰ä¸€äº›å†…ç½®çš„é»˜è®¤å€¼ã€‚æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥è¢«è¦†ç›–ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç»™å®šå·¥å…·çš„æ–¹æ³•æ˜¯ä½¿ç”¨å°†å…¶é›†æˆåˆ° Hardhat ä¸­çš„æ’ä»¶ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬æ¨èçš„æ’ä»¶ï¼Œ<a href="https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-toolbox"><code>@nomicfoundation/hardhat-toolbox</code></a>ï¼Œå®ƒæä¾›äº†å¼€å‘æ™ºèƒ½åˆçº¦æ‰€éœ€çš„ä¸€åˆ‡ã€‚</p>
<p>è¦å®‰è£…å®ƒï¼Œè¯·åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œæ­¤å‘½ä»¤ï¼š</p>
<p>::::tabsgroup{options=&quot;npm 7+,npm 6,yarn&quot;}</p>
<p>:::tab{value=&quot;npm 7+&quot;}</p>
<pre><code>npm install --save-dev @nomicfoundation/hardhat-toolbox
</code></pre>
<p>:::</p>
<p>:::tab{value=&quot;npm 6&quot;}</p>
<pre><code>npm install --save-dev @nomicfoundation/hardhat-toolbox @nomicfoundation/hardhat-network-helpers @nomicfoundation/hardhat-chai-matchers @nomiclabs/hardhat-ethers @nomiclabs/hardhat-etherscan chai ethers hardhat-gas-reporter solidity-coverage @typechain/hardhat typechain @typechain/ethers-v5 @ethersproject/abi @ethersproject/providers
</code></pre>
<p>:::</p>
<p>:::tab{value=yarn}</p>
<pre><code>yarn add --dev @nomicfoundation/hardhat-toolbox @nomicfoundation/hardhat-network-helpers @nomicfoundation/hardhat-chai-matchers @nomiclabs/hardhat-ethers @nomiclabs/hardhat-etherscan chai ethers hardhat-gas-reporter solidity-coverage @typechain/hardhat typechain @typechain/ethers-v5 @ethersproject/abi @ethersproject/providers
</code></pre>
<p>:::</p>
<p>::::</p>
<p>å°†é«˜äº®æ˜¾ç¤ºçš„è¡Œæ·»åŠ åˆ° <code>hardhat.config.js</code> ä¸­ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<pre><code class="language-js{1}">require(&quot;@nomicfoundation/hardhat-toolbox&quot;);

/** @type import('hardhat/config').HardhatUserConfig */
module.exports = {
  solidity: &quot;0.8.9&quot;,
};
</code></pre>
<h2 id="4-ç¼–å†™å’Œç¼–è¯‘åˆçº¦"><a class="header" href="#4-ç¼–å†™å’Œç¼–è¯‘åˆçº¦">4. ç¼–å†™å’Œç¼–è¯‘åˆçº¦</a></h2>
<p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„æ™ºèƒ½åˆçº¦ï¼Œå®ƒä¼šå®ç°ä¸€ä¸ªå¯ä»¥äº¤æ˜“çš„ tokenã€‚Token åˆçº¦æœ€å¸¸ç”¨äºäº¤æ¢å’Œå­˜å‚¨ä»·å€¼ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥ç ”ç©¶åˆçº¦çš„ Solidity ä»£ç ï¼Œä½†ä½ åº”è¯¥çŸ¥é“æˆ‘ä»¬å®ç°çš„ä¸€äº›é€»è¾‘ï¼š</p>
<ul>
<li>Token çš„æ€»ä¾›åº”é‡æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½æ›´æ”¹ã€‚</li>
<li>Token çš„æ•´ä¸ªä¾›åº”é‡åˆ†é…ç»™éƒ¨ç½²åˆçº¦çš„è´¦æˆ·åœ°å€ã€‚</li>
<li>ä»»ä½•äººéƒ½å¯ä»¥æ”¶åˆ° Tokenã€‚</li>
<li>ä»»ä½•æ‹¥æœ‰è‡³å°‘ä¸€ä¸ª Token çš„äººéƒ½å¯ä»¥è½¬ç§» Tokenã€‚</li>
<li>Token æ˜¯ä¸å¯åˆ†å‰²çš„ã€‚ä½ å¯ä»¥è½¬ç§»1ã€2ã€3æˆ–37ä¸ª Tokenï¼Œä½†ä¸èƒ½è½¬ç§»2.5ä¸ªã€‚</li>
</ul>
<p>:::æç¤º</p>
<p>ä½ å¯èƒ½å¬è¯´è¿‡ ERC-20ï¼Œè¿™æ˜¯ä»¥å¤ªåŠçš„ä¸€ä¸ª token æ ‡å‡†ã€‚token å¦‚ DAI å’Œ USDC å®ç°äº† ERC-20 æ ‡å‡†ï¼Œè¿™ä½¿å¾—å®ƒä»¬éƒ½å¯ä»¥ä¸ä»»ä½•å¯ä»¥å¤„ç† ERC-20 token çš„è½¯ä»¶å…¼å®¹ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†è¦æ„å»ºçš„ token ä¸å®ç° ERC-20 æ ‡å‡†ã€‚</p>
<p>:::</p>
<h3 id="ç¼–å†™æ™ºèƒ½åˆçº¦"><a class="header" href="#ç¼–å†™æ™ºèƒ½åˆçº¦">ç¼–å†™æ™ºèƒ½åˆçº¦</a></h3>
<p>å¼€å§‹åˆ›å»ºä¸€ä¸ªåä¸º <code>contracts</code> çš„æ–°æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>Token.sol</code> çš„æ–‡ä»¶ã€‚</p>
<p>ç²˜è´´ä¸‹é¢çš„çš„ä»£ç åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èŠ±ä¸€åˆ†é’Ÿé€šè¯»ä»¥ä¸‹è¿™æ®µä»£ç ã€‚å®ƒå¾ˆç®€å•ï¼Œè€Œä¸”å……æ»¡äº†è§£é‡Š Solidity åŸºæœ¬åŸç†çš„æ³¨é‡Šã€‚</p>
<p>:::æç¤º</p>
<p>è¦åœ¨ Visual Studio Code ä¸­ä¸º solididity è·å¾—è¯­æ³•é«˜äº®æ˜¾ç¤ºå’Œç¼–è¾‘å¸®åŠ©ï¼Œè¯·å°è¯•åœ¨<a href="https://marketplace.visualstudio.com/items?itemName=NomicFoundation.hardhat-solidity">Hardhat for Visual Studio Code</a>ã€‚</p>
<p>:::</p>
<pre><code class="language-solidity">//SPDX-License-Identifier: UNLICENSED

// Solidityæ–‡ä»¶å¿…é¡»ä»¥è¿™ä¸ªpragmaå¼€å¤´ã€‚
// å®ƒå°†è¢«Solidityç¼–è¯‘å™¨ç”¨æ¥éªŒè¯å®ƒçš„ç‰ˆæœ¬ã€‚
pragma solidity ^0.8.9;


// è¿™æ˜¯æ™ºèƒ½åˆçº¦çš„ä¸»è¦æ„å»ºæ¨¡å—ã€‚
contract Token {
    // ä¸€äº›ç”¨äºæ ‡è¯†tokençš„å­—ç¬¦ä¸²ç±»å‹å˜é‡ã€‚
    string public name = &quot;My Hardhat Token&quot;;
    string public symbol = &quot;MHT&quot;;

    // å›ºå®šæ•°é‡çš„tokensï¼Œå­˜å‚¨åœ¨æ— ç¬¦å·æ•´æ•°ç±»å‹å˜é‡ä¸­ã€‚
    uint256 public totalSupply = 1000000;

    // ä¸€ä¸ªåœ°å€ç±»å‹å˜é‡è¢«ç”¨ä½œå­˜å‚¨ä»¥å¤ªåŠè´¦æˆ·ã€‚
    address public owner;

    // ä¸€ä¸ªkey/valueé”®å€¼å¯¹mapæ˜ å°„ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå­˜å‚¨æ¯ä¸ªè´¦æˆ·çš„ä½™é¢ã€‚
    mapping(address =&gt; uint256) balances;

    // è¿™ä¸ªè½¬è®©äº‹ä»¶å¸®åŠ©é“¾ä¸‹åº”ç”¨ç†è§£åœ¨ä½ çš„åˆçº¦ä¸­å‘ç”Ÿçš„ä»€ä¹ˆã€‚
    event Transfer(address indexed _from, address indexed _to, uint256 _value);

    /**
     * åˆçº¦åˆå§‹åŒ–ã€‚
     */
    constructor() {
        // è¿™ä¸ªæ€»ä¾›åº”é‡è¢«åˆ†é…ç»™äº¤æ˜“å‘é€è€…ï¼Œå®ƒæ˜¯éƒ¨ç½²è¿™ä¸ªåˆçº¦çš„è´¦æˆ·ã€‚
        balances[msg.sender] = totalSupply;
        owner = msg.sender;
    }

    /**
     * è½¬ç§»tokensçš„å‡½æ•°ã€‚
     *
     * è¿™ä¸ª `external` ä¿®é¥°ç¬¦ä¼šä½¿ä¸€ä¸ªå‡½æ•°ä»…å¯ä»¥åœ¨è¿™ä¸ªåˆçº¦å¤–éƒ¨è¢«è°ƒç”¨ã€‚
     */
    function transfer(address to, uint256 amount) external {
        // æ£€æŸ¥è¿™ä¸ªäº¤æ˜“å‘é€è€…æ˜¯å¦æœ‰è¶³å¤Ÿçš„tokensã€‚
        // å¦‚æœ `require` çš„ç¬¬ä¸€ä¸ªå‚æ•°ç­‰ä»·äº `false` é‚£ä¹ˆè¿™ä¸ªäº¤æ˜“å°†ä¼šæ¢å¤ã€‚
        require(balances[msg.sender] &gt;= amount, &quot;Not enough tokens&quot;);

        // è½¬ç§»é‡‘é¢ã€‚
        balances[msg.sender] -= amount;
        balances[to] += amount;

        // å°†è½¬ç§»é€šçŸ¥é“¾ä¸‹åº”ç”¨ç¨‹åºã€‚
        emit Transfer(msg.sender, to, amount);
    }

    /**
     * åªè¯»å‡½æ•°ï¼Œç”¨äºæ£€ç´¢ç»™å®šè´¦æˆ·çš„tokenä½™é¢ã€‚
     * è¿™ä¸ª `view` ä¿®é¥°ç¬¦è¡¨æ˜å®ƒä¸èƒ½ä¿®æ”¹åˆçº¦çš„çŠ¶æ€ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä¸éœ€è¦æ‰§è¡Œä¸€ä¸ªäº¤æ˜“è€Œè°ƒç”¨å®ƒã€‚
     */
    function balanceOf(address account) external view returns (uint256) {
        return balances[account];
    }
}
</code></pre>
<p>:::æç¤º</p>
<p><code>*.sol</code> æ˜¯Solidityåˆçº¦æ–‡ä»¶çš„åç¼€ã€‚æˆ‘ä»¬å»ºè®®å°†æ–‡ä»¶åä¸å…¶åŒ…å«çš„åˆçº¦åä¿æŒä¸€è‡´ï¼Œè¿™æ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ã€‚</p>
<p>:::</p>
<h3 id="ç¼–è¯‘æ™ºèƒ½åˆçº¦"><a class="header" href="#ç¼–è¯‘æ™ºèƒ½åˆçº¦">ç¼–è¯‘æ™ºèƒ½åˆçº¦</a></h3>
<p>è¦ç¼–è¯‘åˆçº¦ï¼Œå¯åœ¨ä½ çš„ç»ˆç«¯ä¸­è¿è¡Œ <code>npx hardhat compile</code>ã€‚<code>compile</code> ä»»åŠ¡æ˜¯å†…ç½®ä»»åŠ¡ä¹‹ä¸€ã€‚</p>
<pre><code>$ npx hardhat compile
Compiling 1 file with 0.8.9
Compilation finished successfully
</code></pre>
<p>è¿™ä¸ªåˆçº¦å·²ç»æˆåŠŸç¼–è¯‘äº†ï¼Œå®ƒå¯ä»¥å‡†å¤‡è¢«ä½¿ç”¨äº†ã€‚</p>
<h2 id="5-æµ‹è¯•åˆçº¦"><a class="header" href="#5-æµ‹è¯•åˆçº¦">5. æµ‹è¯•åˆçº¦</a></h2>
<p>åœ¨æ„å»ºæ™ºèƒ½åˆçº¦æ—¶ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºè¿™å…³ç³»åˆ°ç”¨æˆ·çš„é’±ã€‚</p>
<p>ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„åˆçº¦ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Hardhat Networkï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ºå¼€å‘è€Œè®¾è®¡çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œã€‚å®ƒå†…ç½®åœ¨ Hardhat ä¸­ï¼Œè¢«ç”¨ä½œé»˜è®¤ç½‘ç»œã€‚ä½¿ç”¨å®ƒä¸éœ€è¦è®¾ç½®ä»»ä½•ä¸œè¥¿ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ <a href="https://docs.ethers.io/v5/">ethers.js</a> ä¸æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­æ„å»ºçš„ä»¥å¤ªåŠåˆçº¦è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†ä½¿ç”¨ <a href="https://mochajs.org/">Mocha</a> ä½œä¸ºæˆ‘ä»¬çš„æµ‹è¯•è¿è¡Œè€…ã€‚</p>
<h3 id="ç¼–å†™æµ‹è¯•"><a class="header" href="#ç¼–å†™æµ‹è¯•">ç¼–å†™æµ‹è¯•</a></h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>test</code> çš„æ–°ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>Token.js</code> çš„æ–°æ–‡ä»¶ã€‚</p>
<p>è®©æˆ‘ä»¬ä»ä¸‹é¢çš„ä»£ç å¼€å§‹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†è§£é‡Šå®ƒï¼Œä½†ç°åœ¨å°†å…¶ç²˜è´´åˆ° <code>Token.js</code> ä¸­ï¼š</p>
<pre><code class="language-js">const { expect } = require(&quot;chai&quot;);

describe(&quot;Token contract&quot;, function () {
  it(&quot;Deployment should assign the total supply of tokens to the owner&quot;, async function () {
    const [owner] = await ethers.getSigners();

    const Token = await ethers.getContractFactory(&quot;Token&quot;);

    const hardhatToken = await Token.deploy();

    const ownerBalance = await hardhatToken.balanceOf(owner.address);
    expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
  });
});
</code></pre>
<p>åœ¨ä½ çš„ç»ˆç«¯ä¸­è¿è¡Œ <code>npx hardhat test</code>ã€‚ä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š</p>
<pre><code>$ npx hardhat test

  Token contract
    âœ“ Deployment should assign the total supply of tokens to the owner (654ms)


  1 passing (663ms)
</code></pre>
<p>è¿™æ„å‘³ç€æµ‹è¯•é€šè¿‡äº†ã€‚ç°åœ¨è®©æˆ‘ä»¬è§£é‡Šæ¯ä¸€è¡Œä»£ç ï¼š</p>
<pre><code class="language-js">const [owner] = await ethers.getSigners();
</code></pre>
<p>ethers.js ä¸­çš„ <code>Signer</code> æ˜¯ä»£è¡¨ä»¥å¤ªåŠå¸æˆ·çš„å¯¹è±¡ã€‚å®ƒè¢«ç”¨äºå‘åˆçº¦å’Œå…¶ä»–è´¦æˆ·å‘é€äº¤æ˜“ã€‚è¿™é‡Œæˆ‘ä»¬å¾—åˆ°è¿æ¥åˆ°äº†èŠ‚ç‚¹ä¸Šçš„è´¦æˆ·åˆ—è¡¨ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ Hardhat Networkï¼Œæˆ‘ä»¬åªä¿ç•™ç¬¬ä¸€ä¸ªã€‚</p>
<p><code>ethers</code> å˜é‡åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ç”¨ã€‚å¦‚æœä½ å¸Œæœ›ä½ çš„ä»£ç æ€»æ˜¯æ˜¾å¼çš„ï¼Œä½ å¯ä»¥åœ¨é¡¶éƒ¨æ·»åŠ è¿™ä¸€è¡Œï¼š</p>
<pre><code class="language-js">const { ethers } = require(&quot;hardhat&quot;);
</code></pre>
<p>:::æç¤º</p>
<p>è¦å­¦ä¹ æ›´å¤šå…³äº <code>Signer</code> çš„å†…å®¹ï¼Œä½ å¯ä»¥æŸ¥çœ‹ <a href="https://docs.ethers.io/v5/api/signer/">Signers æ–‡æ¡£</a>ã€‚</p>
<p>:::</p>
<pre><code class="language-js">const Token = await ethers.getContractFactory(&quot;Token&quot;);
</code></pre>
<p>ethers.js ä¸­çš„ <code>ContractFactory</code> æ˜¯ä¸€ä¸ªç”¨äºéƒ¨ç½²æ–°æ™ºèƒ½åˆçº¦çš„æŠ½è±¡ï¼Œå› æ­¤è¿™é‡Œçš„ <code>Token</code> æ˜¯ token åˆçº¦å®ä¾‹çš„å·¥å‚ã€‚</p>
<pre><code class="language-js">const hardhatToken = await Token.deploy();
</code></pre>
<p>åœ¨ <code>ContractFactory</code> ä¸Šè°ƒç”¨ <code>deploy()</code> å°†å¯åŠ¨éƒ¨ç½²ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªè§£å†³ä¸º <code>Contract</code> çš„ <code>Promise</code>ã€‚è¿™ä¸ªå¯¹è±¡ä¸ºæ¯ä¸ªæ™ºèƒ½åˆçº¦å‡½æ•°éƒ½æä¾›äº†ä¸€ä¸ªæ–¹æ³•ã€‚</p>
<pre><code class="language-js">const ownerBalance = await hardhatToken.balanceOf(owner.address);
</code></pre>
<p>ä¸€æ—¦è¿™ä¸ªåˆçº¦è¢«éƒ¨ç½²åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>hardhatToken</code> ä¸Šè°ƒç”¨æˆ‘ä»¬çš„åˆçº¦æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨åˆçº¦çš„ <code>balanceOf()</code> æ–¹æ³•ï¼Œè·å¾—æ‰€æœ‰è€…è´¦æˆ·çš„ä½™é¢ã€‚</p>
<p>é‡æ–°è°ƒç”¨å°†ä¼šè·å¾—éƒ¨ç½² token çš„å¸æˆ·çš„å…¨éƒ¨ä¾›åº”æ€»é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>ContractFactory</code> å’Œ <code>Contract</code> å®ä¾‹è¿æ¥åˆ°ç¬¬ä¸€ä¸ªç­¾åè€…ã€‚è¿™æ„å‘³ç€ <code>owner</code> å˜é‡ä¸­çš„å¸æˆ·æ‰§è¡Œäº†éƒ¨ç½²ï¼Œå¹¶ä¸” <code>balanceOf()</code> åº”è¯¥è¿”å›æ•´ä¸ªä¾›åº”æ€»é¢ã€‚</p>
<pre><code class="language-js">expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
</code></pre>
<p>è¿™é‡Œåœ¨æˆ‘ä»¬çš„ Solidity ä»£ç ä¸­ï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨ <code>Contract</code> å®ä¾‹å»è°ƒç”¨ä¸€ä¸ªæ™ºèƒ½åˆçº¦å‡½æ•°ã€‚<code>totalSupply()</code> è¿”å›è¿™ä¸ª token ä¾›åº”æ€»é¢ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†æ£€æŸ¥å®ƒæ˜¯å¦ç­‰ä»·äº <code>ownerBalance</code>ï¼Œæ­£å¦‚å®ƒåº”è¯¥çš„é‚£æ ·ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <a href="https://www.chaijs.com/">Chai</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„ JavaScript æ–­è¨€åº“ã€‚è¿™äº›æ–­è¨€å‡½æ•°è¢«å«åš &quot;matchers&quot;ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯æ¥è‡ª <a href="https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-chai-matchers"><code>@nomicfoundation/hardhat-chai-matchers</code></a> æ’ä»¶ï¼Œå®ƒæ‰©å±•äº† Chaiï¼Œæä¾›äº†è®¸å¤šç”¨äºæµ‹è¯•æ™ºèƒ½åˆçº¦çš„åŒ¹é…å™¨ã€‚</p>
<h4 id="ä½¿ç”¨ä¸åŒçš„è´¦æˆ·"><a class="header" href="#ä½¿ç”¨ä¸åŒçš„è´¦æˆ·">ä½¿ç”¨ä¸åŒçš„è´¦æˆ·</a></h4>
<p>å¦‚æœä½ éœ€è¦ä»é»˜è®¤å¸æˆ·ä»¥å¤–çš„å…¶ä»–å¸æˆ·ï¼ˆæˆ– ethers.js ä¸­çš„ <code>Signer</code>ï¼‰å‘é€äº¤æ˜“æ¥æµ‹è¯•ä»£ç ï¼Œåˆ™å¯ä»¥åœ¨ ethers.js çš„ <code>Contract</code> ä¸­ä½¿ç”¨ <code>connect()</code> æ–¹æ³•æ¥å°†å…¶è¿æ¥åˆ°å…¶ä»–å¸æˆ·ï¼Œåƒè¿™æ ·ï¼š</p>
<pre><code class="language-js{18}">const { expect } = require(&quot;chai&quot;);

describe(&quot;Token contract&quot;, function () {
  // ...previous test...

  it(&quot;Should transfer tokens between accounts&quot;, async function() {
    const [owner, addr1, addr2] = await ethers.getSigners();

    const Token = await ethers.getContractFactory(&quot;Token&quot;);

    const hardhatToken = await Token.deploy();

    // Transfer 50 tokens from owner to addr1
    await hardhatToken.transfer(addr1.address, 50);
    expect(await hardhatToken.balanceOf(addr1.address)).to.equal(50);

    // Transfer 50 tokens from addr1 to addr2
    await hardhatToken.connect(addr1).transfer(addr2.address, 50);
    expect(await hardhatToken.balanceOf(addr2.address)).to.equal(50);
  });
});
</code></pre>
<h4 id="ä½¿ç”¨fixtureså¤ç”¨å¸¸è§çš„æµ‹è¯•é…ç½®"><a class="header" href="#ä½¿ç”¨fixtureså¤ç”¨å¸¸è§çš„æµ‹è¯•é…ç½®">ä½¿ç”¨fixtureså¤ç”¨å¸¸è§çš„æµ‹è¯•é…ç½®</a></h4>
<p>æˆ‘ä»¬ç¼–å†™çš„ä¸¤ä¸ªæµ‹è¯•ä»å®ƒä»¬çš„è®¾ç½®å¼€å§‹ï¼Œåœ¨æœ¬ä¾‹ä¸­è¿™æ„å‘³ç€éƒ¨ç½² token åˆçº¦ã€‚åœ¨æ›´å¤æ‚çš„é¡¹ç›®ä¸­ï¼Œæ­¤è®¾ç½®å¯èƒ½æ¶‰åŠå¤šä¸ªéƒ¨ç½²å’Œå…¶ä»–äº‹åŠ¡ã€‚åœ¨æ¯ä¸ªæµ‹è¯•ä¸­éƒ½è¿™æ ·åšæ„å‘³ç€å¤§é‡çš„é‡å¤ä»£ç ã€‚å¦å¤–ï¼Œåœ¨æ¯ä¸ªæµ‹è¯•å¼€å§‹æ—¶æ‰§è¡Œè®¸å¤šäº‹åŠ¡ä¼šä½¿æµ‹è¯•å¥—ä»¶å˜å¾—æ›´æ…¢ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ <strong>fixtures</strong>ï¼Œä½ å¯ä»¥é¿å…ä»£ç é‡å¤å¹¶æé«˜æµ‹è¯•å¥—ä»¶çš„æ€§èƒ½ã€‚fixture æ˜¯åªåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶è¿è¡Œçš„è®¾ç½®å‡½æ•°ã€‚åœ¨éšåçš„è°ƒç”¨ä¸­ï¼ŒHardhat ä¸ä¼šé‡æ–°è¿è¡Œå®ƒï¼Œè€Œæ˜¯å°†ç½‘ç»œçš„çŠ¶æ€é‡ç½®ä¸º fixture æœ€åˆæ‰§è¡Œåçš„çŠ¶æ€ã€‚</p>
<pre><code class="language-js">const { loadFixture } = require(&quot;@nomicfoundation/hardhat-network-helpers&quot;);
const { expect } = require(&quot;chai&quot;);

describe(&quot;Token contract&quot;, function () {
  async function deployTokenFixture() {
    const Token = await ethers.getContractFactory(&quot;Token&quot;);
    const [owner, addr1, addr2] = await ethers.getSigners();

    const hardhatToken = await Token.deploy();

    await hardhatToken.deployed();

    // Fixtures can return anything you consider useful for your tests
    return { Token, hardhatToken, owner, addr1, addr2 };
  }

  it(&quot;Should assign the total supply of tokens to the owner&quot;, async function () {
    const { hardhatToken, owner } = await loadFixture(deployTokenFixture);

    const ownerBalance = await hardhatToken.balanceOf(owner.address);
    expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
  });

  it(&quot;Should transfer tokens between accounts&quot;, async function () {
    const { hardhatToken, owner, addr1, addr2 } = await loadFixture(
      deployTokenFixture
    );

    // Transfer 50 tokens from owner to addr1
    await expect(
      hardhatToken.transfer(addr1.address, 50)
    ).to.changeTokenBalances(hardhatToken, [owner, addr1], [-50, 50]);

    // Transfer 50 tokens from addr1 to addr2
    // We use .connect(signer) to send a transaction from another account
    await expect(
      hardhatToken.connect(addr1).transfer(addr2.address, 50)
    ).to.changeTokenBalances(hardhatToken, [addr1, addr2], [-50, 50]);
  });
});
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ª <code>deployTokenFixture</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°æ‰§è¡Œå¿…è¦çš„è®¾ç½®å¹¶è¿”å›ç¨ååœ¨æµ‹è¯•ä¸­ä½¿ç”¨çš„æ¯ä¸ªå€¼ã€‚ç„¶ååœ¨æ¯ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>loadFixture</code> æ¥è¿è¡Œ fixture å¹¶è·å–è¿™äº›å€¼ã€‚<code>loadFixture</code> å°†åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œè®¾ç½®ï¼Œå¹¶åœ¨å…¶ä»–æµ‹è¯•ä¸­è¿…é€Ÿè¿”å›åˆ°è¯¥çŠ¶æ€ã€‚</p>
<h4 id="å®Œæ•´çš„æµ‹è¯•è¦†ç›–"><a class="header" href="#å®Œæ•´çš„æµ‹è¯•è¦†ç›–">å®Œæ•´çš„æµ‹è¯•è¦†ç›–</a></h4>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä»‹ç»äº†æµ‹è¯•åˆçº¦æ‰€éœ€çš„åŸºæœ¬çŸ¥è¯†ï¼Œä¸‹é¢æ˜¯ token çš„å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼Œå…¶ä¸­åŒ…å«å¤§é‡å…³äº Mocha ä»¥åŠå¦‚ä½•ç»„ç»‡æµ‹è¯•çš„é™„åŠ ä¿¡æ¯ã€‚æˆ‘ä»¬å»ºè®®ä½ ä»”ç»†é˜…è¯»ã€‚</p>
<pre><code class="language-js">// This is an example test file. Hardhat will run every *.js file in `test/`,
// so feel free to add new ones.

// Hardhat tests are normally written with Mocha and Chai.

// We import Chai to use its asserting functions here.
const { expect } = require(&quot;chai&quot;);

// We use `loadFixture` to share common setups (or fixtures) between tests.
// Using this simplifies your tests and makes them run faster, by taking
// advantage of Hardhat Network's snapshot functionality.
const { loadFixture } = require(&quot;@nomicfoundation/hardhat-network-helpers&quot;);

// `describe` is a Mocha function that allows you to organize your tests.
// Having your tests organized makes debugging them easier. All Mocha
// functions are available in the global scope.
//
// `describe` receives the name of a section of your test suite, and a
// callback. The callback must define the tests of that section. This callback
// can't be an async function.
describe(&quot;Token contract&quot;, function () {
  // We define a fixture to reuse the same setup in every test. We use
  // loadFixture to run this setup once, snapshot that state, and reset Hardhat
  // Network to that snapshot in every test.
  async function deployTokenFixture() {
    // Get the ContractFactory and Signers here.
    const Token = await ethers.getContractFactory(&quot;Token&quot;);
    const [owner, addr1, addr2] = await ethers.getSigners();

    // To deploy our contract, we just have to call Token.deploy() and await
    // its deployed() method, which happens once its transaction has been
    // mined.
    const hardhatToken = await Token.deploy();

    await hardhatToken.deployed();

    // Fixtures can return anything you consider useful for your tests
    return { Token, hardhatToken, owner, addr1, addr2 };
  }

  // You can nest describe calls to create subsections.
  describe(&quot;Deployment&quot;, function () {
    // `it` is another Mocha function. This is the one you use to define each
    // of your tests. It receives the test name, and a callback function.
    //
    // If the callback function is async, Mocha will `await` it.
    it(&quot;Should set the right owner&quot;, async function () {
      // We use loadFixture to setup our environment, and then assert that
      // things went well
      const { hardhatToken, owner } = await loadFixture(deployTokenFixture);

      // `expect` receives a value and wraps it in an assertion object. These
      // objects have a lot of utility methods to assert values.

      // This test expects the owner variable stored in the contract to be
      // equal to our Signer's owner.
      expect(await hardhatToken.owner()).to.equal(owner.address);
    });

    it(&quot;Should assign the total supply of tokens to the owner&quot;, async function () {
      const { hardhatToken, owner } = await loadFixture(deployTokenFixture);
      const ownerBalance = await hardhatToken.balanceOf(owner.address);
      expect(await hardhatToken.totalSupply()).to.equal(ownerBalance);
    });
  });

  describe(&quot;Transactions&quot;, function () {
    it(&quot;Should transfer tokens between accounts&quot;, async function () {
      const { hardhatToken, owner, addr1, addr2 } = await loadFixture(
        deployTokenFixture
      );
      // Transfer 50 tokens from owner to addr1
      await expect(
        hardhatToken.transfer(addr1.address, 50)
      ).to.changeTokenBalances(hardhatToken, [owner, addr1], [-50, 50]);

      // Transfer 50 tokens from addr1 to addr2
      // We use .connect(signer) to send a transaction from another account
      await expect(
        hardhatToken.connect(addr1).transfer(addr2.address, 50)
      ).to.changeTokenBalances(hardhatToken, [addr1, addr2], [-50, 50]);
    });

    it(&quot;should emit Transfer events&quot;, async function () {
      const { hardhatToken, owner, addr1, addr2 } = await loadFixture(
        deployTokenFixture
      );

      // Transfer 50 tokens from owner to addr1
      await expect(hardhatToken.transfer(addr1.address, 50))
        .to.emit(hardhatToken, &quot;Transfer&quot;)
        .withArgs(owner.address, addr1.address, 50);

      // Transfer 50 tokens from addr1 to addr2
      // We use .connect(signer) to send a transaction from another account
      await expect(hardhatToken.connect(addr1).transfer(addr2.address, 50))
        .to.emit(hardhatToken, &quot;Transfer&quot;)
        .withArgs(addr1.address, addr2.address, 50);
    });

    it(&quot;Should fail if sender doesn't have enough tokens&quot;, async function () {
      const { hardhatToken, owner, addr1 } = await loadFixture(
        deployTokenFixture
      );
      const initialOwnerBalance = await hardhatToken.balanceOf(owner.address);

      // Try to send 1 token from addr1 (0 tokens) to owner.
      // `require` will evaluate false and revert the transaction.
      await expect(
        hardhatToken.connect(addr1).transfer(owner.address, 1)
      ).to.be.revertedWith(&quot;Not enough tokens&quot;);

      // Owner balance shouldn't have changed.
      expect(await hardhatToken.balanceOf(owner.address)).to.equal(
        initialOwnerBalance
      );
    });
  });
});
</code></pre>
<p>è¿™æ˜¯é’ˆå¯¹å®Œæ•´æµ‹è¯•å¥—ä»¶çš„ <code>npx hardhat test</code> çš„è¾“å‡ºï¼š</p>
<pre><code>$ npx hardhat test

  Token contract
    Deployment
      âœ“ Should set the right owner
      âœ“ Should assign the total supply of tokens to the owner
    Transactions
      âœ“ Should transfer tokens between accounts (199ms)
      âœ“ Should fail if sender doesnâ€™t have enough tokens
      âœ“ Should update balances after transfers (111ms)


  5 passing (1s)
</code></pre>
<p>è¯·è®°ä½ï¼Œå½“ä½ è¿è¡Œ <code>npx hardhat test</code> æ—¶ï¼Œå¦‚æœè‡ªä¸Šæ¬¡è¿è¡Œæµ‹è¯•ä»¥æ¥åˆçº¦å‘ç”Ÿäº†æ›´æ”¹ï¼Œåˆ™ä¼šè‡ªåŠ¨ç¼–è¯‘å®ƒä»¬ã€‚</p>
<h2 id="6-ä½¿ç”¨hardhatç½‘ç»œè¿›è¡Œè°ƒè¯•"><a class="header" href="#6-ä½¿ç”¨hardhatç½‘ç»œè¿›è¡Œè°ƒè¯•">6. ä½¿ç”¨Hardhatç½‘ç»œè¿›è¡Œè°ƒè¯•</a></h2>
<p>Hardhat å†…ç½®äº† Hardhat ç½‘ç»œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºå¼€å‘è®¾è®¡çš„ä»¥å¤ªåŠç½‘ç»œã€‚å®ƒå…è®¸ä½ éƒ¨ç½²åˆçº¦ï¼Œè¿è¡Œæµ‹è¯•å’Œè°ƒè¯•ä»£ç ï¼Œæ‰€æœ‰è¿™äº›éƒ½åœ¨æœ¬åœ°æœºå™¨çš„èŒƒå›´å†…ã€‚å®ƒæ˜¯ Hardhat æ‰€è¿æ¥çš„é»˜è®¤ç½‘ç»œï¼Œå› æ­¤ä½ æ— éœ€ä»»ä½•è®¾ç½®å³å¯å·¥ä½œã€‚ä½ åªéœ€è¿è¡Œæµ‹è¯•å°±å¥½ã€‚</p>
<h2 id="solidity-consolelog"><a class="header" href="#solidity-consolelog">Solidity <code>console.log</code></a></h2>
<p>åœ¨ Hardhat ç½‘ç»œä¸Šè¿è¡Œåˆçº¦å’Œæµ‹è¯•æ—¶ï¼Œä½ å¯ä»¥åœ¨ Solidity ä»£ç ä¸­è°ƒç”¨ <code>console.log()</code> æ‰“å°æ—¥å¿—ä¿¡æ¯å’Œåˆçº¦å˜é‡ã€‚ä½ å¿…é¡»å…ˆä»åˆçº¦ä»£ç ä¸­å¯¼å…¥ <code>hardhat/console.sol</code> å†ä½¿ç”¨å®ƒã€‚</p>
<p>å°±åƒè¿™æ ·ï¼š</p>
<pre><code class="language-solidity{3}">pragma solidity ^0.8.9;

import &quot;hardhat/console.sol&quot;;

contract Token {
  //...
}
</code></pre>
<p>å°±åƒåœ¨ JavaScript ä¸­ä½¿ç”¨ä¸€æ ·ï¼Œç„¶åä½ åªéœ€åœ¨ <code>transfer()</code> å‡½æ•°ä¸­æ·»åŠ ä¸€äº› <code>console.log</code> è°ƒç”¨ï¼š</p>
<pre><code class="language-solidity{4-9}">function transfer(address to, uint256 amount) external {
    require(balances[msg.sender] &gt;= amount, &quot;Not enough tokens&quot;);

    console.log(
        &quot;Transferring from %s to %s %s tokens&quot;,
        msg.sender,
        to,
        amount
    );

    balances[msg.sender] -= amount;
    balances[to] += amount;

    emit Transfer(msg.sender, to, amount);
}
</code></pre>
<p>è¿è¡Œæµ‹è¯•æ—¶å°†æ˜¾ç¤ºæ—¥å¿—è¾“å‡ºï¼š</p>
<pre><code class="language-markup{8-11 14-17}">$ npx hardhat test

  Token contract
    Deployment
      âœ“ Should set the right owner
      âœ“ Should assign the total supply of tokens to the owner
    Transactions
Transferring from 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266 to 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 50 tokens
Transferring from 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 to 0x3c44cdddb6a900fa2b585dd299e03d12fa4293bc 50 tokens
      âœ“ Should transfer tokens between accounts (373ms)
      âœ“ Should fail if sender doesnâ€™t have enough tokens
Transferring from 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266 to 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 50 tokens
Transferring from 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 to 0x3c44cdddb6a900fa2b585dd299e03d12fa4293bc 50 tokens
      âœ“ Should update balances after transfers (187ms)


  5 passing (2s)
</code></pre>
<p>æŸ¥çœ‹<a href="https://hardhat.org/hardhat-network/docs/overview#console.log">æ–‡æ¡£</a>ä»¥äº†è§£æ›´å¤šå…³äºè¯¥ç‰¹æ€§çš„ä¿¡æ¯ã€‚</p>
<h2 id="7-éƒ¨ç½²åˆ°çœŸå®ç½‘ç»œ"><a class="header" href="#7-éƒ¨ç½²åˆ°çœŸå®ç½‘ç»œ">7. éƒ¨ç½²åˆ°çœŸå®ç½‘ç»œ</a></h2>
<p>ä¸€æ—¦ä½ å‡†å¤‡å¥½ä¸å…¶ä»–äººåˆ†äº« dApp åï¼Œä½ å¯èƒ½è¦åšçš„å°±æ˜¯å°†å…¶éƒ¨ç½²åˆ°ä¸€ä¸ªçœŸå®çš„ä»¥å¤ªåŠç½‘ç»œä¸­ã€‚è¿™æ ·ï¼Œå…¶ä»–äººå°±å¯ä»¥è®¿é—®ä¸åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šè¿è¡Œçš„å®ä¾‹äº†ã€‚</p>
<p>å…·æœ‰å¤„ç†çœŸå®é‡‘é’±çš„ä»¥å¤ªåŠç½‘ç»œè¢«ç§°ä¸ºâ€œä¸»ç½‘â€ï¼Œç„¶åè¿˜æœ‰ä¸€äº›ç‹¬ç«‹çš„â€œæµ‹è¯•ç½‘â€å¯ä»¥ä½¿ç”¨ã€‚è¿™äº›æµ‹è¯•ç½‘æä¾›äº†å…±äº«çš„ç™»å½•ç¯å¢ƒï¼Œå¯ä»¥å¾ˆå¥½åœ°æ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„åœºæ™¯ï¼Œè€Œä¸éœ€è¦æŠ•å…¥çœŸæ­£çš„é‡‘é’±ï¼Œè¿™é‡Œæœ‰å‡ ä¸ª<a href="https://ethereum.org/zh/developers/docs/networks/#ethereum-testnets">ä»¥å¤ªåŠæµ‹è¯•ç½‘</a>ï¼Œåƒ <em>Goerli</em> å’Œ <em>Sepolia</em>ã€‚æˆ‘ä»¬æ¨èä½ éƒ¨ç½²ä½ çš„åˆçº¦åˆ° <em>Goerli</em> æµ‹è¯•ç½‘ã€‚</p>
<p>åœ¨è½¯ä»¶çº§åˆ«ï¼Œéƒ¨ç½²åˆ°æµ‹è¯•ç½‘ä¸éƒ¨ç½²åˆ°ä¸»ç½‘ç›¸åŒã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ä½ è¿æ¥åˆ°çš„å“ªä¸ªç½‘ç»œã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨ ether.js éƒ¨ç½²åˆçº¦çš„ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p>
<p>ä½¿ç”¨çš„ä¸»è¦æ¦‚å¿µæ˜¯ <code>Signer</code>ã€<code>ContractFactory</code> å’Œ <code>Contract</code>ï¼Œæˆ‘ä»¬åœ¨<a href="#5-%E6%B5%8B%E8%AF%95%E5%90%88%E7%BA%A6">æµ‹è¯•</a>éƒ¨åˆ†ä¸­å¯¹æ­¤è¿›è¡Œäº†è§£é‡Šã€‚ä¸æµ‹è¯•ç›¸æ¯”ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–°ä¸œè¥¿éœ€è¦åšï¼Œå› ä¸ºå½“ä½ æµ‹è¯•åˆçº¦æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨å‘å¼€å‘ç½‘ç»œè¿›è¡Œéƒ¨ç½²ã€‚è¿™ä½¿å¾—ä»£ç éå¸¸ç›¸ä¼¼ï¼Œç”šè‡³å®Œå…¨ç›¸åŒã€‚</p>
<p>è®©æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• <code>scripts</code>ï¼Œå¹¶å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°è¯¥ç›®å½•ä¸­çš„ <code>deploy.js</code> æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="language-js">async function main() {
  const [deployer] = await ethers.getSigners();

  console.log(&quot;Deploying contracts with the account:&quot;, deployer.address);

  console.log(&quot;Account balance:&quot;, (await deployer.getBalance()).toString());

  const Token = await ethers.getContractFactory(&quot;Token&quot;);
  const token = await Token.deploy();

  console.log(&quot;Token address:&quot;, token.address);
}

main()
  .then(() =&gt; process.exit(0))
  .catch((error) =&gt; {
    console.error(error);
    process.exit(1);
  });
</code></pre>
<p>è¦å‘Šè¯‰ Hardhat è¿æ¥åˆ°ç‰¹å®šçš„ä»¥å¤ªåŠç½‘ç»œï¼Œå¯ä»¥åœ¨è¿è¡Œä»»ä½•ä»»åŠ¡æ—¶ä½¿ç”¨ <code>--network</code> å‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<pre><code>npx hardhat run scripts/deploy.js --network &lt;network-name&gt;
</code></pre>
<p>å¯¹äºæˆ‘ä»¬å½“å‰çš„é…ç½®ï¼Œåœ¨æ²¡æœ‰ <code>--network</code> å‚æ•°çš„æƒ…å†µä¸‹è¿è¡Œå®ƒå°†å¯¼è‡´ä»£ç é’ˆå¯¹ Hardhat ç½‘ç»œçš„åµŒå…¥å¼å®ä¾‹è¿è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“ Hardhat å®Œæˆè¿è¡Œæ—¶ï¼Œéƒ¨ç½²å®é™…ä¸Šä¼šä¸¢å¤±ï¼Œä½†æµ‹è¯•æˆ‘ä»¬çš„éƒ¨ç½²ä»£ç æ˜¯å¦æœ‰æ•ˆä»ç„¶å¾ˆæœ‰ç”¨ï¼š</p>
<pre><code>$ npx hardhat run scripts/deploy.js
Deploying contracts with the account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
Account balance: 10000000000000000000000
Token address: 0x5FbDB2315678afecb367f032d93F642f64180aa3
</code></pre>
<h2 id="éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œ"><a class="header" href="#éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œ">éƒ¨ç½²åˆ°è¿œç¨‹ç½‘ç»œ</a></h2>
<p>è¦éƒ¨ç½²åˆ°è¯¸å¦‚ä¸»ç½‘æˆ–ä»»ä½•æµ‹è¯•ç½‘ä¹‹ç±»çš„è¿œç¨‹ç½‘ç»œï¼Œä½ éœ€è¦æ·»åŠ ä¸€ä¸ª <code>network</code> å…¥å£åˆ°ä½ çš„ <code>hardhat.config.js</code> æ–‡ä»¶ä¸­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Goerliï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æ·»åŠ ä»»ä½•ç±»ä¼¼çš„ç½‘ç»œï¼š</p>
<pre><code class="language-js{5 11 15-20}">require(&quot;@nomicfoundation/hardhat-toolbox&quot;);

// Go to https://www.alchemyapi.io, sign up, create
// a new App in its dashboard, and replace &quot;KEY&quot; with its key
const ALCHEMY_API_KEY = &quot;KEY&quot;;

// Replace this private key with your Goerli account private key
// To export your private key from Metamask, open Metamask and
// go to Account Details &gt; Export Private Key
// Beware: NEVER put real Ether into testing accounts
const GOERLI_PRIVATE_KEY = &quot;YOUR GOERLI PRIVATE KEY&quot;;

module.exports = {
  solidity: &quot;0.8.9&quot;,
  networks: {
    goerli: {
      url: `https://eth-goerli.alchemyapi.io/v2/${ALCHEMY_API_KEY}`,
      accounts: [GOERLI_PRIVATE_KEY]
    }
  }
};
</code></pre>
<p>æˆ‘ä»¬ä½¿ç”¨äº† <a href="https://www.alchemyapi.io">Alchemy</a>, ä½†æ˜¯ä½ å°† <code>url</code> æŒ‡å‘å…¶ä»–ä»»ä½•ä»¥å¤ªåŠèŠ‚ç‚¹æˆ–ç½‘å…³éƒ½æ˜¯å¯ä»¥çš„ã€‚è¯·å¡«å…¥ä½ è‡ªå·±çš„ <code>ALCHEMY_API_KEY</code>ã€‚</p>
<p>è¦åœ¨ Goerli ä¸Šè¿›è¡Œéƒ¨ç½²ï¼Œä½ éœ€è¦å‘é€ä¸€äº› Goerli ether ç»™å°†è¦è¿›è¡Œéƒ¨ç½²çš„åœ°å€ã€‚ä½ å¯ä»¥ä»æ°´é¾™å¤´è·å¾—æµ‹è¯•ç½‘ä»¥å¤ªï¼Œè¿™æ˜¯ä¸€é¡¹å…è´¹åˆ†å‘æµ‹è¯• ETH çš„æœåŠ¡ã€‚ä¸‹é¢è¿™äº›æ˜¯ç»™ Goerli çš„ï¼š</p>
<ul>
<li><a href="https://faucets.chain.link/">Chainlink faucet</a></li>
<li><a href="https://goerlifaucet.com/">Alchemy Goerli Faucet</a></li>
</ul>
<p>ä½ å¿…é¡»åœ¨äº¤æ˜“å‰å°† Metamask çš„ç½‘ç»œæ›´æ”¹ä¸º Goerliã€‚</p>
<p>:::æç¤º</p>
<p>ä½ å¯ä»¥åœ¨ <a href="https://ethereum.org/zh/developers/docs/networks/#ethereum-testnets">ethereum.org</a> ç½‘ç«™ä¸Šäº†è§£æ›´å¤šå…³äºå…¶ä»–æµ‹è¯•ç½‘çš„ä¿¡æ¯ï¼Œå¹¶æ‰¾åˆ°å®ƒä»¬çš„æ°´é¾™å¤´é“¾æ¥ã€‚</p>
<p>:::</p>
<p>æœ€ç»ˆï¼Œè¿è¡Œï¼š</p>
<pre><code>npx hardhat run scripts/deploy.js --network goerli
</code></pre>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°éƒ¨ç½²çš„åˆçº¦åœ°å€ã€‚</p>
<h2 id="8-å‰ç«¯æ¨¡æ¿é¡¹ç›®"><a class="header" href="#8-å‰ç«¯æ¨¡æ¿é¡¹ç›®">8. å‰ç«¯æ¨¡æ¿é¡¹ç›®</a></h2>
<p>å¦‚æœä½ æƒ³è¦å¿«é€Ÿå¼€å§‹ä½¿ç”¨ dApp æˆ–ä½¿ç”¨å‰ç«¯æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„ <a href="https://github.com/NomicFoundation/hardhat-boilerplate">boilerplate åº“</a>ã€‚</p>
<h2 id="åŒ…å«å“ªäº›å†…å®¹"><a class="header" href="#åŒ…å«å“ªäº›å†…å®¹">åŒ…å«å“ªäº›å†…å®¹</a></h2>
<ul>
<li>æœ¬æ¬¡æ•™ç¨‹ä¸­æˆ‘ä»¬ä½¿ç”¨çš„ Solidity åˆçº¦</li>
<li>æµ‹è¯•åˆçº¦çš„æ•´ä¸ªåŠŸèƒ½</li>
<li>ä½¿ç”¨ ethers.js ä¸åˆçº¦è¿›è¡Œäº¤äº’çš„æœ€å° React å‰ç«¯</li>
</ul>
<h3 id="solidityåˆçº¦ä¸æµ‹è¯•"><a class="header" href="#solidityåˆçº¦ä¸æµ‹è¯•">Solidityåˆçº¦ä¸æµ‹è¯•</a></h3>
<p>åœ¨ä»£ç åº“çš„æ ¹ç›®å½•ä¸­ï¼Œä½ å°†æ‰¾åˆ°æˆ‘ä»¬é€šè¿‡æœ¬æ•™ç¨‹ä¸ <code>Token</code> åˆçº¦ç»„åˆåœ¨ä¸€èµ·çš„ Hardhat é¡¹ç›®ã€‚</p>
<ul>
<li>token çš„æ€»ä¾›åº”é‡æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½æ›´æ”¹ã€‚</li>
<li>æ•´ä¸ªä¾›åº”è¢«åˆ†é…ç»™éƒ¨ç½²åˆçº¦çš„åœ°å€ã€‚</li>
<li>ä»»ä½•äººéƒ½å¯ä»¥æ¥æ”¶ tokenã€‚</li>
<li>ä»»ä½•äººè‡³å°‘æœ‰ä¸€ä¸ª token éƒ½å¯ä»¥è½¬è®© tokenã€‚</li>
<li>è¿™ä¸ª token æ˜¯ä¸å¯ä»¥åˆ†å‰²çš„ã€‚ä½ å¯ä»¥è½¬è®©1ã€2ã€3æˆ–37ä¸ªä»£å¸ï¼Œä½†ä¸èƒ½è½¬è®©2.5ä¸ªã€‚</li>
</ul>
<h3 id="å‰ç«¯app"><a class="header" href="#å‰ç«¯app">å‰ç«¯app</a></h3>
<p>åœ¨ <code>frontend</code> ä½ ä¼šå‘ç°ä¸€ä¸ªç®€å•çš„ appï¼Œå…è®¸ç”¨æˆ·åšä¸¤ä»¶äº‹ï¼š</p>
<ul>
<li>æ£€æŸ¥è¿æ¥é’±åŒ…çš„ä½™é¢</li>
<li>å‘é€ token åˆ°ä¸€ä¸ªåœ°å€</li>
</ul>
<p>å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ npm é¡¹ç›®ï¼Œå®ƒæ˜¯ç”¨ <code>create-react-app</code> åˆ›å»ºçš„ï¼Œè¿™æ„å‘³ç€å®ƒä½¿ç”¨äº† webpack å’Œ babelã€‚</p>
<h3 id="å‰ç«¯æ–‡ä»¶ç›®å½•ç»“æ„"><a class="header" href="#å‰ç«¯æ–‡ä»¶ç›®å½•ç»“æ„">å‰ç«¯æ–‡ä»¶ç›®å½•ç»“æ„</a></h3>
<ul>
<li><code>src/</code> åŒ…å«äº†æ‰€æœ‰ä»£ç 
<ul>
<li><code>src/components</code> åŒ…å«äº† react ç»„ä»¶
<ul>
<li><code>Dapp.js</code> æ˜¯å”¯ä¸€å…·æœ‰ä¸šåŠ¡é€»è¾‘çš„æ–‡ä»¶ã€‚å¦‚æœä½ æŠŠå®ƒç”¨ä½œä¸ºæ¨¡æ¿ï¼Œå¯åœ¨æ­¤å¤„ç”¨è‡ªå·±çš„ä»£ç æ›¿æ¢å®ƒã€‚</li>
<li>å…¶ä»–ç»„ä»¶ä»…æ¸²æŸ“HTMLï¼Œæ²¡æœ‰é€»è¾‘ã€‚</li>
<li><code>src/contracts</code> å…·æœ‰åˆçº¦çš„ ABI å’Œåœ°å€ï¼Œè¿™äº›ç”±éƒ¨ç½²è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="å¦‚ä½•ä½¿ç”¨å®ƒ"><a class="header" href="#å¦‚ä½•ä½¿ç”¨å®ƒ">å¦‚ä½•ä½¿ç”¨å®ƒ</a></h2>
<p>é¦–å…ˆå…‹éš†ä»£ç åº“ï¼Œç„¶åå‡†å¤‡éƒ¨ç½²åˆçº¦ï¼š</p>
<pre><code>cd hardhat-boilerplate
npm install
npx hardhat node
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»…éœ€è¦å®‰è£… npm é¡¹ç›®çš„ä¾èµ–é¡¹ï¼Œç„¶åè¿è¡Œ <code>npx hardhat node</code> å¯åŠ¨ä¸€ä¸ªå¯ä»¥ä¾› MetaMask è¿æ¥çš„ Hardhat ç½‘ç»œã€‚åœ¨åŒä¸€ç›®å½•ä¸‹çš„å¦ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>npx hardhat --network localhost run scripts/deploy.js
</code></pre>
<p>è¿™ä¼šå°†åˆçº¦éƒ¨ç½²åˆ° Hardhat ç½‘ç»œã€‚å®Œæˆåï¼Œå¯åŠ¨ react web appï¼š</p>
<pre><code>cd frontend
npm install
npm run start
</code></pre>
<p>ç„¶ååœ¨ä½ çš„æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://127.0.0.1:3000/">http://127.0.0.1:3000/</a>ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://awesomeprogram.gitee.io/imgdata/tech_bc_hardfront-5.png" alt="" /></p>
<p>å°† MetaMask ä¸­çš„ç½‘ç»œè®¾ç½®ä¸º <code>127.0.0.1:8545</code>ã€‚</p>
<p>ç°åœ¨ç‚¹å‡» web app çš„æŒ‰é’®ã€‚ä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://awesomeprogram.gitee.io/imgdata/tech_bc_hardfront-2.png" alt="" /></p>
<p>è¿™é‡Œå‘ç”Ÿçš„æƒ…å†µæ˜¯ï¼Œæ˜¾ç¤ºå½“å‰é’±åŒ…ä½™é¢ï¼Œå‰ç«¯ä»£ç æ£€æµ‹åˆ°ä½™é¢ä¸º <code>0</code>ï¼Œå› æ­¤ä½ æ— æ³•å°è¯•è½¬è´¦åŠŸèƒ½ã€‚é€šè¿‡è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>npx hardhat --network localhost faucet &lt;your address&gt;
</code></pre>
<p>ä½ å°†è¿è¡Œæˆ‘ä»¬åŒ…å«çš„è‡ªå®šä¹‰ Hardhat ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä½¿ç”¨éƒ¨ç½²å¸æˆ·çš„ä½™é¢å‘ä½ çš„åœ°å€å‘é€100ä¸ªMHTå’Œ1ä¸ªETHã€‚è¿™å°†å…è®¸ä½ å‘å¦ä¸€ä¸ªåœ°å€å‘é€ tokenã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <a href="https://github.com/NomicFoundation/hardhat-boilerplate/blob/master/tasks/faucet.js"><code>/tasks/faucet.js</code></a> æŸ¥çœ‹è¯¥ä»»åŠ¡çš„ä»£ç ï¼Œè¿™æ˜¯ä» <code>hardhat.config.js</code> ä¸­éœ€è¦çš„ã€‚</p>
<pre><code>$ npx hardhat --network localhost faucet 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90
Transferred 1 ETH and 100 tokens to 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90
</code></pre>
<p>åœ¨è¿è¡Œ <code>npx hardhat node</code> çš„ç»ˆç«¯ä¸­ï¼Œä½ è¿˜åº”è¯¥çœ‹åˆ°ï¼š</p>
<pre><code class="language-markup{10-11}">eth_sendTransaction
  Contract call:       Token#transfer
  Transaction:         0x460526d98b86f7886cd0f218d6618c96d27de7c745462ff8141973253e89b7d4
  From:                0xc783df8a850f42e7f7e57013759c285caa701eb6
  To:                  0x7c2c195cd6d34b8f845992d380aadb2730bb9c6f
  Value:               0 ETH
  Gas used:            37098 of 185490
  Block #8:            0x6b6cd29029b31f30158bfbd12faf2c4ac4263068fd12b6130f5655e70d1bc257

  console.log:
    Transferring from 0xc783df8a850f42e7f7e57013759c285caa701eb6 to 0x0987a41e73e69f60c5071ce3c8f7e730f9a60f90 100 tokens
</code></pre>
<p>åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­æ˜¾ç¤º <code>transfer()</code> å‡½æ•°çš„ <code>console.log</code> è¾“å‡ºï¼Œè¿™å°±æ˜¯è¿è¡Œæ°´é¾™å¤´ä»»åŠ¡å web app çš„æ ·å­ï¼š
<img src="https://awesomeprogram.gitee.io/imgdata/tech_bc_hardfront-6.png" alt="" /></p>
<p>å°è¯•ä½¿ç”¨å®ƒå¹¶é˜…è¯»ä»£ç ã€‚å®ƒå……æ»¡äº†æ³¨é‡Šï¼Œè§£é‡Šäº†å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¹¶æ¸…æ¥šåœ°æŒ‡å‡ºä»€ä¹ˆæ˜¯ä»¥å¤ªåŠ boilerplate ä»£ç ï¼Œä»€ä¹ˆæ˜¯ dApp é€»è¾‘ã€‚è¿™å°†ä½¿ä»£ç åº“æ˜“äºä¸ºä½ çš„é¡¹ç›®å¤ç”¨ã€‚</p>
<h2 id="9-æœ€åçš„æƒ³æ³•"><a class="header" href="#9-æœ€åçš„æƒ³æ³•">9. æœ€åçš„æƒ³æ³•</a></h2>
<p>æ­å–œä½ å®Œæˆæœ¬æ•™ç¨‹ï¼</p>
<p>è¿™é‡Œæœ‰ä¸€äº›é“¾æ¥ï¼Œä½ å¯èƒ½ä¼šå‘ç°åœ¨ä½ çš„ dApp å¼€å‘æ—…ç¨‹ä¸­æœ‰ç”¨ï¼š</p>
<ul>
<li><a href="https://github.com/NomicFoundation/hardhat-boilerplate">Hardhat's Boilerplate</a></li>
<li><a href="https://hardhat.org/docs">Hardhat's documentation site</a></li>
<li><a href="https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-toolbox">Hardhat Toolbox's documenation</a></li>
<li><a href="https://discord.com/invite/TETZs2KK4k">Hardhat Support Discord server</a></li>
<li><a href="https://docs.ethers.io/">Ethers.js Documentation</a></li>
<li><a href="https://mochajs.org/">Mocha Documentation</a></li>
<li><a href="https://www.chaijs.com/">Chai Documentation</a></li>
</ul>
<p>Happy hacking!</p>
<p><img src="https://awesomeprogram.gitee.io/imgdata/tech_bc_hardcool.svg" alt="" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../blockchain/chapter_1_3_2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../cloud/chapter_1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../blockchain/chapter_1_3_2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../cloud/chapter_1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>


        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'G-ZHWPPT6ESV', 'auto');
                ga('send', 'pageview');
            }
        </script>


        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
